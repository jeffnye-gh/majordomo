# See LICENSE for license details.

#*****************************************************************************
# fli_s.S
#-----------------------------------------------------------------------------
#
# Test f{min|max}.h instructinos.
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV64UF
RVTEST_CODE_BEGIN

# rs1    Value            S exp(5) mant(10)
# 0      -1.0             1_01111_0000000000            0xBC00
# 1      min pos 0.000061 0_00001_0000000000            0x0400
# 2      2^-16   0.000015 0_00000_0100000000            0x0100
# 3      2^-15   0.000031 0_00000_1000000000            0x0200
# 4      2^-8    0.003906 0_00111_0000000000            0x1C00
# 5      2^-7    0.007812 0_01000_0000000000            0x2000
# 6      0.0625           0_01100_0000000000            0x3000
# 7      0.125            0_01101_0000000000            0x3400
# 8      0.25             0_01110_0000000000            0x3800
# 9      0.3125           0_01110_0100000000            0x3840
# 10     0.375            0_01110_1000000000            0x3880
# 11     0.4375           0_01110_1100000000            0x38C0
# 12     0.5              0_01111_0000000000            0x3C00
# 13     0.625            0_01111_0100000000            0x3C40
# 14     0.75             0_01111_1000000000            0x3C80
# 15     0.875            0_01111_1100000000            0x3CC0
# 16     1.0              0_01111_1110000000            0x3E00
# 17     1.25             0_10000_0000000000            0x4000
# 18     1.5              0_10000_0100000000            0x4200
# 19     1.75             0_10000_0110000000            0x4300
# 20     2.0              0_10000_1000000000            0x4400
# 21     2.5              0_10000_1010000000            0x4500
# 22     3.0              0_10000_1100000000            0x4600
# 23     4.0              0_10001_0000000000            0x4800
# 24     8.0              0_10010_0000000000            0x5000
# 25     16.0             0_10011_0000000000            0x5800
# 26     128.0            0_10111_0000000000            0x7000
# 27     256.0            0_11000_0000000000            0x7800
# 28     2^15   32768     0_11110_0000000000            0x7C00
# 29     2^16   65536     0_11111_0000000000            0x7E00
# 30     +inf             0_11111_1000000000            0x7C00
# 31     NaN              0_11111_1100000001            0x7C01

#  ------------------------------------------------------------------------
#  FIXME need to find the macros that support this
#  ------------------------------------------------------------------------
  fli.h f1, min
# fli.h f1, ????                # 1
  fli.h f1,  0.0000152587890625 # 2
  fli.h f1,  0.000030517578125  # 3 
  fli.h f1,  0.00390625         # 4 
  fli.h f1,  0.0078125          # 5
  fli.h f1,  0.625              # 6
  fli.h f1,  0.125              # 7 
  fli.h f1,  0.25               # 8 
  fli.h f1,  0.3125             # 9 
  fli.h f1,  0.375              # 10 
  fli.h f1,  0.4375             # 11 
  fli.h f1,  0.5                # 12 
  fli.h f1,  0.625              # 13 
  fli.h f1,  0.75               # 14 
  fli.h f1,  0.875              # 15 
  fli.h f1,  1.0                # 16 
  fli.h f1,  1.25               # 17 
  fli.h f1,  1.5                # 18 
  fli.h f1,  1.75               # 19 
  fli.h f1,  2.0                # 20 
  fli.h f1,  2.5                # 21 
  fli.h f1,  3                  # 22 
  fli.h f1,  4                  # 23 
  fli.h f1,  8                  # 24 
  fli.h f1,  16                 # 25 
  fli.h f1,  128                # 26 
  fli.h f1,  256                # 27 
  fli.h f1,  32768              # 28 
  fli.h f1,  65536              # 29 
  fli.h f1, inf
  fli.h f1, nan

#  TEST_CASE( 2, f1, 0xBF800000, fli.s f1, min);
#  etc...

  # Add expect data check
  # TEST_PASSFAIL

RVTEST_CODE_END

  .data
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
